<mat-card>
  <mat-card-title>Crear Artista con Álbumes y Canciones</mat-card-title>
  <form [formGroup]="artistaForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <mat-form-field appearance="fill">
        <mat-label>Nombre del Artista</mat-label>
        <input matInput formControlName="nombre" required />
      </mat-form-field>
    </div>

    <div class="form-group">
      <mat-form-field appearance="fill">
        <mat-label>Fecha de Nacimiento</mat-label>
        <input matInput formControlName="fechaNacimiento" type="date" required />
      </mat-form-field>
    </div>

    <div class="form-group">
      <mat-form-field appearance="fill">
        <mat-label>Nacionalidad</mat-label>
        <input matInput formControlName="nacionalidad" required />
      </mat-form-field>
    </div>
      <!-- Álbumes -->
<div>
  <h3>Álbumes</h3>
  <button mat-raised-button color="primary" type="button" (click)="addAlbum()">Agregar Álbum</button>
  <div formArrayName="albumes">
    <div *ngFor="let album of albumes.controls; let i = index" [formGroupName]="i">
      <mat-form-field appearance="fill">
        <mat-label>Título del Álbum</mat-label>
        <input matInput formControlName="titulo" required />
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Año de Lanzamiento</mat-label>
        <input matInput formControlName="anoLanzamiento" type="number" required />
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Descripción</mat-label>
        <textarea matInput formControlName="descripcion"></textarea>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Número de Canciones</mat-label>
        <input matInput formControlName="numeroCanciones" type="number" required />
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>URL de Portada</mat-label>
        <input matInput formControlName="urlPortada" />
      </mat-form-field>
      <button mat-raised-button color="warn" type="button" (click)="removeAlbum(i)">Eliminar Álbum</button>
    </div>
  </div>
</div>

    <!-- Canciones -->
<div>
  <h3>Canciones</h3>
  <button mat-raised-button color="primary" type="button" (click)="addCancion()">Agregar Canción</button>
  <div formArrayName="canciones">
    <div *ngFor="let cancion of canciones.controls; let i = index" [formGroupName]="i">
      <mat-form-field appearance="fill">
        <mat-label>Título de la Canción</mat-label>
        <input matInput formControlName="titulo" required />
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Duración (segundos)</mat-label>
        <input matInput formControlName="duracion" type="number" required />
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>URL de la Canción</mat-label>
        <input matInput formControlName="urlCancion" />
      </mat-form-field>
      <button mat-raised-button color="warn" type="button" (click)="removeCancion(i)">Eliminar Canción</button>
    </div>
  </div>
</div>


    <!-- Generos -->
    <div>
      <h3>Generos</h3>
      <button mat-raised-button color="primary" type="button" (click)="addGenero()">Agregar Género</button>
      <div formArrayName="generos">
        <div *ngFor="let generos of generos.controls; let i = index" [formGroupName]="i">
          <mat-form-field appearance="fill">
            <mat-label>Nombre del genero</mat-label>
            <input matInput formControlName="nombre" required />
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Año de origen</mat-label>
            <input matInput formControlName="anoOrigen" type="number" required />
          </mat-form-field>
          <button mat-raised-button color="warn" type="button" (click)="removeCancion(i)">Eliminar Canción</button>
        </div>
      </div>
    </div>
    <!-- Botón para guardar -->
    <button mat-raised-button color="primary" type="submit">Guardar Artista</button>
  </form>
</mat-card>
